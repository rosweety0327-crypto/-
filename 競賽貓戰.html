<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <title>ç«¶è³½è²“ç«™ï¼šä¸­äºŒé­”ç‹ç‰ˆ</title>
    <style>
        body { background: #000; color: #fff; font-family: "Microsoft JhengHei", sans-serif; text-align: center; overflow: hidden; }
        #game-container { position: relative; width: 100vw; height: 100vh; display: flex; flex-direction: column; align-items: center; justify-content: center; background: linear-gradient(to bottom, #1a0033, #000); }
        #level-name { font-size: 28px; color: #ff00ff; text-shadow: 0 0 10px #ff00ff, 0 0 20px #ff00ff; margin-bottom: 20px; font-weight: bold; }
        #cat-target { width: 120px; cursor: pointer; transition: transform 0.1s; filter: drop-shadow(0 0 5px #fff); }
        #cat-target:active { transform: scale(0.8); }
        .stats { font-size: 20px; margin: 10px; color: #00ffff; }
        #save-btn { padding: 10px 20px; background: #222; color: #0f0; border: 1px solid #0f0; cursor: pointer; margin-top: 20px; border-radius: 5px; }
        #save-btn:hover { background: #0f0; color: #000; }
    </style>
</head>
<body>

<div id="game-container">
    <div class="stats">ç©å®¶ï¼š<span id="player-name">å°å®¥</span> | ç´€éŒ„ï¼š<span id="save-status">ç„¡</span></div>
    <div id="level-title" style="font-size: 20px; color: #aaa;">ç¬¬ 1 é—œ</div>
    <div id="level-name">è¼‰å…¥ä¸­...</div>
    
    <div class="stats">ç›®æ¨™é»æ“Šæ•¸ï¼š<span id="target-clicks">--</span></div>
    <div class="stats">ç›®å‰é»æ“Šï¼š<span id="current-clicks">0</span></div>

    <img id="cat-target" src="https://img.icons8.com/emoji/96/cat-face.png" onclick="handleClick()">

    <br>
    <button id="save-btn" onclick="saveGame()">ğŸ’¾ å°å­˜éˆé­‚ç´€éŒ„ (å­˜æª”)</button>
    <button onclick="location.href='index.html'" style="margin-top:10px; background:none; border:none; color:#555; cursor:pointer;">â¬… è¿”å›å¤§å»³</button>
</div>

<script>
    let level = 1;
    let clicks = 0;
    let playerName = "å°å®¥";

    // --- ä¸­äºŒé—œå¡åç¨±è¡¨ ---
    const mid2Names = [
        "åˆå§‹ä¹‹æ··æ²Œæ¯›çƒ", "æš—å½±è¡—é ­çš„çˆªç—•", "é¡«æ…„çš„ç½é ­æ¸´æœ›", "è¢«å°å°çš„æ²™ç›†æ€’å¼", "è™›ç©ºä¹‹çœ¼ï¼šç¶ çœ¼ç³",
        "ç‹‚äº‚ä¹‹èˆï¼šç´…é»è¿½å°‹", "æ–·ç½ªä¹‹è‚‰çƒ", "æ°¸æ†çš„æ‡¶æ´‹æ´‹ä¹‹ç‹", "ç…‰ç„ä¸­çš„é€—è²“æ£’", "æ·±æ·µä¹‹ä¸»çš„å‘¼åš•è²",
        "è’¼é›·ä¹‹é€Ÿï¼šæš´è¡", "è¬ç‰©çµ‚çµçš„æŠ“æ¿", "æ˜Ÿè¾°å¤§æµ·çš„ç´™ç®±", "å¯‚æ»…ä¹‹å»ï¼šå’¬æ‰‹", "é‚ªçœ¼ä¹‹è¦–ï¼šé„™è¦–äººé¡",
        "ä¹å‘½ä¹‹é­‚çš„ç¦å’’", "é›·é³´èˆ¬çš„å‘¼åš•é‡çµ„", "æœ«æ—¥ä¹‹æ—¥çš„åˆç¡", "å¹»å½±æ®˜åƒï¼šèº²è²“è²“", "è‡³é«˜å¤©ä¹‹é ‚ï¼šæ«¥æ«ƒ",
        // ... ä¸­é–“çœç•¥ï¼Œç›´æ¥ç”¨è¨ˆç®—æ–¹å¼ç”Ÿæˆæ›´å¤š
    ];

    function getLevelName(lv) {
        if (lv <= 20) return mid2Names[lv-1];
        const prefixes = ["è–åŸŸ", "å†¥åºœ", "æ™‚ç©º", "æ¥µå…‰", "å´©å£", "ç¥è«­", "è¡€æœˆ", "ä¿®ç¾…"];
        const suffixes = ["ä¹‹è£æ±º", "ä¹‹å´©æ»…", "ä¹‹è¦ºé†’", "ä¹‹è¼ªè¿´", "ä¹‹æˆ°æ­Œ", "ä¹‹å­¤å‚²"];
        return prefixes[lv % prefixes.length] + "è²“ç‹" + suffixes[lv % suffixes.length];
    }

    function updateDisplay() {
        document.getElementById('level-title').innerText = `ç¬¬ ${level} é—œ`;
        document.getElementById('level-name').innerText = `ã€ ${getLevelName(level)} ã€‘`;
        // é›£åº¦å…¬å¼ï¼šæ¯é—œéœ€è¦çš„é»æ“Šæ¬¡æ•¸è®Šå¤šï¼Œä¸”æ›´é›£ï¼
        let target = level * 5 + Math.floor(Math.pow(level, 1.5));
        document.getElementById('target-clicks').innerText = target;
        document.getElementById('current-clicks').innerText = clicks;
        
        // è²“å’ªæœƒéš¨è‘—é—œå¡è®Šå¤§æˆ–è®Šå°ï¼ˆæ›´é›£é»ï¼‰
        let size = 120 - (level % 10) * 5;
        document.getElementById('cat-target').style.width = size + "px";
    }

    function handleClick() {
        clicks++;
        let target = parseInt(document.getElementById('target-clicks').innerText);
        
        // é»æ“Šç‰¹æ•ˆ
        document.body.style.backgroundColor = (clicks % 2 === 0) ? "#1a001a" : "#000";

        if (clicks >= target) {
            alert(`ğŸ‰ çªç ´æˆåŠŸï¼\nä½ å·²å¾æœã€Œ${getLevelName(level)}ã€ï¼`);
            level++;
            clicks = 0;
            if (level > 100) {
                alert("æ­å–œï¼ä½ å·²å¾æœæ‰€æœ‰è²“ä¹‹ç¥ï¼");
                level = 1;
            }
            updateDisplay();
        } else {
            document.getElementById('current-clicks').innerText = clicks;
        }
    }

    function saveGame() {
        localStorage.setItem('catGame_level', level);
        document.getElementById('save-status').innerText = "å·²å­˜æª”";
        setTimeout(() => document.getElementById('save-status').innerText = "ç´€éŒ„ä¸­", 2000);
    }

    // è®€æª”
    window.onload = () => {
        let savedLevel = localStorage.getItem('catGame_level');
        if (savedLevel) level = parseInt(savedLevel);
        updateDisplay();
    };
</script>

</body>
</html>
